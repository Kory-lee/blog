---
title: 工具函数收集
date: 2020-04-05
tags:
  - Js
  - 学习笔记
categories:
  - frontEnd
# publish: false
---

## 第一部分：数组

### 1. `all`: 布尔全等判断

```js
const all = (arr, fn = Boolean) => arr.every(fn);
all([4, 2, 3], x => x > 1); // true
all([1, 2, 3]); // true
```

### 2. `allEqual`: 检查数组各项相等

```js
const allEqual = arr => arr.every(val => val === val[0]);
allEqual([1, 2, 3, 4, 5, 6]); //false
```

### 3. `approximatelyEqual`: 约等于

```js
const approximatelyEqual = (v1, v2, epsilon = Number.EPSILON) => Math.abs(v1 - v2) < epsilon;
```

### 4. `average`: 平均数

```js
const average = (...nums) => nums.reduce((acc, val) => acc + val, 0) / nums.length;
```

### 5. `averageBy`: 数组对象属性平均数

```js
const averageBy = (arr, fn) =>
  arr.map(typeof fn === 'function' ? fn : val => val[fn]).reduce((acc, val) => acc + val, 0);
```

### 6. `uniqBy`: 数组去重

```js
const uniqBy = (arr, key) => {
  return [...new Map(arr.map(item => [item[key], item])).values()];
};
```

<!-- ### 7. `bifurcate`: 拆分断言后的数组
```js
const bifurcate = (arr,filter) => arr.reduce((acc, val, i) => (acc[filter[i] ? 0: 1].push((val),acc)[[],[]]))
``` -->

### 8. `compact`: 去除数组中的无效/无用值

```js
const compact = arr => arr.filter(Boolean);
```
