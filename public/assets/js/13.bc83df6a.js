(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{337:function(a,v,_){"use strict";_.r(v);var t=_(4),r=Object(t.a)({},function(){var a=this,v=a.$createElement,_=a._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[_("h2",{attrs:{id:"进程与线程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#进程与线程","aria-hidden":"true"}},[a._v("#")]),a._v(" 进程与线程")]),a._v(" "),_("h3",{attrs:{id:"进程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#进程","aria-hidden":"true"}},[a._v("#")]),a._v(" 进程")]),a._v(" "),_("p",[a._v("程序的一次运行,它占有一片独有的内存空间")]),a._v(" "),_("h3",{attrs:{id:"线程-thread"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#线程-thread","aria-hidden":"true"}},[a._v("#")]),a._v(" 线程(thread)")]),a._v(" "),_("ul",[_("li",[a._v("是进程内的一个独立执行单元")]),a._v(" "),_("li",[a._v("是程序运行的一个完整流程")]),a._v(" "),_("li",[a._v("是 CPU 的最小调度单元")])]),a._v(" "),_("h3",{attrs:{id:"相关知识"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#相关知识","aria-hidden":"true"}},[a._v("#")]),a._v(" 相关知识")]),a._v(" "),_("ul",[_("li",[a._v("应用程序必须运行在某个进程的某个线程上")]),a._v(" "),_("li",[a._v("一个进程中至少有一个运行的线程: 主线程, 进程启动后自动创建")]),a._v(" "),_("li",[a._v("一个进程中也可以同时运行多个进程, 我们会说程序是多线程运行的")]),a._v(" "),_("li",[a._v("一个进程内的数据可以供其中的多个进程直接共享")]),a._v(" "),_("li",[a._v("多个进程之间的数据是不能共享的")]),a._v(" "),_("li",[a._v("线程池(thread pool):保存多个线程对象的容器,实现对象的反复利用")])]),a._v(" "),_("p",[a._v("多进程:一个应用程序可以同时启动多个实例进行")]),a._v(" "),_("p",[a._v("多线程:一个进程内,可以有多个线程进行")]),a._v(" "),_("h2",{attrs:{id:"浏览器内核由很多模块组成"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#浏览器内核由很多模块组成","aria-hidden":"true"}},[a._v("#")]),a._v(" 浏览器内核由很多模块组成")]),a._v(" "),_("ul",[_("li",[a._v("主线程\n"),_("ul",[_("li",[_("code",[a._v("js")]),a._v("引擎模块:负责 js 程序的编辑和运行")]),a._v(" "),_("li",[a._v("html,css 文档解析模块:负责页面文本的解析")]),a._v(" "),_("li",[a._v("DOM/CSS 模块;负责"),_("code",[a._v("dom")]),a._v("/"),_("code",[a._v("css")]),a._v("在内存中的相关处理")]),a._v(" "),_("li",[a._v("布局和渲染模块:负责页面的布局和效果的绘制(内存中的对象)")])])]),a._v(" "),_("li",[a._v("分线程\n"),_("ul",[_("li",[a._v("定时器模块:负责定时器的管理")]),a._v(" "),_("li",[_("code",[a._v("DOM")]),a._v("事件响应模块:负责事件的管理")]),a._v(" "),_("li",[a._v("网络请求模块:负责 ajax 请求")])])])]),a._v(" "),_("h3",{attrs:{id:"单线程执行的js"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#单线程执行的js","aria-hidden":"true"}},[a._v("#")]),a._v(" 单线程执行的"),_("code",[a._v("js")])]),a._v(" "),_("h4",{attrs:{id:"怎么证明"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#怎么证明","aria-hidden":"true"}},[a._v("#")]),a._v(" 怎么证明")]),a._v(" "),_("ul",[_("li",[_("code",[a._v("setTimeout()")]),a._v("的回调函数是主线程执行的")]),a._v(" "),_("li",[a._v("定时器回调函数只有在执行栈中的代码全部执行完后才有可能执行")])]),a._v(" "),_("h4",{attrs:{id:"为什么"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#为什么","aria-hidden":"true"}},[a._v("#")]),a._v(" 为什么")]),a._v(" "),_("ul",[_("li",[a._v("作为浏览器脚本语言,"),_("code",[a._v("javaScript")]),a._v("的主要用途是和用户互动,及操作 DOM")]),a._v(" "),_("li",[a._v("这决定了它只能是单线程,否则会带来很复杂的问题")])]),a._v(" "),_("h4",{attrs:{id:"代码的分类"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#代码的分类","aria-hidden":"true"}},[a._v("#")]),a._v(" 代码的分类")]),a._v(" "),_("ul",[_("li",[a._v("初始化代码")]),a._v(" "),_("li",[a._v("回调代码")])]),a._v(" "),_("h4",{attrs:{id:"js引擎执行代码的基本流程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#js引擎执行代码的基本流程","aria-hidden":"true"}},[a._v("#")]),a._v(" "),_("code",[a._v("Js")]),a._v("引擎执行代码的基本流程")]),a._v(" "),_("ul",[_("li",[a._v("先执行初始化代码: 包含一些特殊的代码\n"),_("ul",[_("li",[a._v("设置定时器")]),a._v(" "),_("li",[a._v("绑定监听")]),a._v(" "),_("li",[a._v("发送 ajax 请求")])])]),a._v(" "),_("li",[a._v("后面在某个时刻才会执行回调函数")])]),a._v(" "),_("h2",{attrs:{id:"事件循环模型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#事件循环模型","aria-hidden":"true"}},[a._v("#")]),a._v(" 事件循环模型")]),a._v(" "),_("h3",{attrs:{id:"所有代码分类"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#所有代码分类","aria-hidden":"true"}},[a._v("#")]),a._v(" 所有代码分类")]),a._v(" "),_("ul",[_("li",[a._v("初始化和执行代码(同步代码)：包含绑定"),_("code",[a._v("dom")]),a._v("事件监听，设定定时器，发送 ajax 请求的代码")]),a._v(" "),_("li",[a._v("回调执行代码(异步代码)：处理回调函数")])]),a._v(" "),_("h3",{attrs:{id:"js引擎执行代码的基本流程-2"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#js引擎执行代码的基本流程-2","aria-hidden":"true"}},[a._v("#")]),a._v(" "),_("code",[a._v("js")]),a._v("引擎执行代码的基本流程")]),a._v(" "),_("ul",[_("li",[a._v("初始化代码==>回调代码")])]),a._v(" "),_("h3",{attrs:{id:"模型的-2-个重要的组成部分"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#模型的-2-个重要的组成部分","aria-hidden":"true"}},[a._v("#")]),a._v(" 模型的 2 个重要的组成部分:")]),a._v(" "),_("ul",[_("li",[a._v("事件（定时器/DOM 事件）管理模块")]),a._v(" "),_("li",[a._v("回调队列")])]),a._v(" "),_("h3",{attrs:{id:"模型的运转流程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#模型的运转流程","aria-hidden":"true"}},[a._v("#")]),a._v(" 模型的运转流程")]),a._v(" "),_("ul",[_("li",[a._v("执行初始化代码，将事件回调函数交给对应模块管理")]),a._v(" "),_("li",[a._v("当事件发生时，管理模块会将回调函数及其数据添加到回调队列中")]),a._v(" "),_("li",[a._v("只有当初始化代码执行完后（可能要一定时间），才会遍历读取回调队列中的回调函数执行")])]),a._v(" "),_("h3",{attrs:{id:"模型原理图"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#模型原理图","aria-hidden":"true"}},[a._v("#")]),a._v(" 模型原理图")]),a._v(" "),_("p",[_("img",{attrs:{src:"/img/event-loop.png",alt:"事件轮询"}})]),a._v(" "),_("ul",[_("li",[a._v("事件轮询(event loop)\n"),_("ul",[_("li",[a._v("从任务队列中循环取出回调函数放入执行栈中处理(一个接一个)")]),a._v(" "),_("li",[a._v("一个事件循环存在多个任务源,这确保了任务在特定任务源的执行顺序("),_("strong",[a._v("同一个任务源的任务才会被添加到相同的任务队列")]),a._v("),但在每一次的循环中,浏览器会自主选择哪个源的任务优先执行,这就确保了一些性能敏感的任务的优先级,比如用户输入")])])]),a._v(" "),_("li",[a._v("任务(task)\n"),_("ul",[_("li",[a._v("被放到任务源中,浏览器内部执行转移到 javascript/DOM 领域,并确保按顺序执行")])])]),a._v(" "),_("li",[a._v("微任务(Micro tasks)\n"),_("ul",[_("li",[a._v("这些任务应该在正在执行的脚本之后立即执行,比如对一些动作进行反应，或者操作异步执行避免整个新任务造成的性能浪费。微任务在其他没有 JavaScript 运行并且 task 执行完毕后执行，")])])])]),a._v(" "),_("h4",{attrs:{id:"相关重要概念"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#相关重要概念","aria-hidden":"true"}},[a._v("#")]),a._v(" 相关重要概念")]),a._v(" "),_("ol",[_("li",[a._v("执行栈\n"),_("ol",[_("li",[a._v("execution stack")]),a._v(" "),_("li",[a._v("所有的代码都是在此空间中执行的")])])]),a._v(" "),_("li",[a._v("请求响应模型(request-response model)")])])])},[],!1,null,null,null);v.default=r.exports}}]);